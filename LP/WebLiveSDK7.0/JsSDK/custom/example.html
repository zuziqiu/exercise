<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://open.talk-fun.com/docs/js/gitbook/style.css"
    />
    <style>
      body {
        padding: 50px;
        box-sizing: border-box;
      }
      .markdown-section {
        font-size: 1.6rem;
      }
    </style>
  </head>
  <body>
    <section class="normal markdown-section">
      <h2 id="å¿«é€Ÿæ¥å…¥ğŸš€">å¿«é€Ÿæ¥å…¥ğŸš€</h2>
      <h4 id="å¯¹æ¥å‰å…ˆè¯»">å¯¹æ¥å‰å…ˆè¯»</h4>
      <ul>
        <li>
          ä¸ºäº†è®©æ‚¨æ·±å…¥äº†è§£æ¬¢æ‹“å¯¹æ¥æµç¨‹,æˆ‘ä»¬åˆ¶ä½œäº†ä¸€ä¸ªæµç¨‹å›¾,å¸¦æ‚¨äº†è§£å…¶
          <a href="https://open.talk-fun.com/docs/js/sdkbase.html">æ ¸å¿ƒæ¦‚å¿µ</a>
        </li>
        <li>
          <a href="https://open.talk-fun.com/docs/js/browser-support.html">
            æµè§ˆå™¨å…¼å®¹åŠæ³¨æ„äº‹é¡¹
          </a>
        </li>
        <li>
          <a href="https://open.talk-fun.com/docs/js/download.html">
            Web-Demoå·¥ç¨‹ä¸‹è½½
          </a>
        </li>
      </ul>
      <h5 id="1ã€å¼•å…¥-js-sdk-æœ€æ–°ç‰ˆæœ¬">1ã€å¼•å…¥ JS-SDK æœ€æ–°ç‰ˆæœ¬</h5>
      <pre>
        <code>
        &lt;!--@ SDKåŒ…æ–‡ä»¶ï¼Œç”¨äº Web ç«¯ä½¿ç”¨(PC/H5)å…¬ç”¨ --&gt;
        https://static-1.talk-fun.com/open/maituo_v2/dist/live/sdk/TalkFunWebSDK-7.0.min.js
        </code>
      </pre>
      <h5
        id="2ã€å®šä¹‰htmlç»“æ„ä¸”åœ¨-head-æ ‡ç­¾å®šä¹‰-accesstoken-å˜é‡å¦‚ä½•è·å–accesstoken"
      >
        2ã€å®šä¹‰HTMLç»“æ„ä¸”åœ¨
        <code>&lt;head&gt;</code>
        æ ‡ç­¾å®šä¹‰
        <code>access_token</code>
        å˜é‡(
        <a
          href="https://open.talk-fun.com/docs/getstartV2/access_token.html"
          target="_blank"
        >
          å¦‚ä½•è·å–access_token?
        </a>
        )
      </h5>
      <pre>
        <code>
        &lt;!-- å®šä¹‰ access_token å˜é‡ --&gt;
        &lt;head&gt;
          &lt;script&gt;
            var access_token = "${access_token}";
          &lt;/script&gt;
        &lt;/head&gt;
        &lt;!-- #å®¹å™¨DOM --&gt;
        &lt;body&gt;
          &lt;div id="courseWareWrap"&gt;è¯¾ä»¶æ’­æ”¾å™¨å®¹å™¨&lt;/div&gt;
          &lt;div id="cameraWrap"&gt;æ‘„åƒå¤´æ’­æ”¾å™¨å®¹å™¨&lt;/div&gt;
          &lt;div id="videoWrap"&gt;è§†é¢‘æ’­æ”¾å™¨å®¹å™¨&lt;/div&gt;
        &lt;/body&gt;
        </code>
      </pre>
      <h5 id="åˆå§‹åŒ–--é…ç½®é¡¹">åˆå§‹åŒ– &amp; é…ç½®é¡¹</h5>
      <pre>
        <code>
        /**
         * @constructs TFSDK
         * @param {string} access_token tokenï¼ˆå»ºè®®è¯·æ±‚åç«¯æ¥å£è·å–ï¼Œå¿…å¡«ï¼‰
         * @param {object} config åˆå§‹åŒ–é…ç½®ï¼ˆå¯é€‰ï¼‰
         * @param {function} callback å›è°ƒï¼ˆå¯é€‰ï¼‰
         * @description sdkæ„é€ å‡½æ•°
         */
        var TF = new TFSDK(access_token, {
          config: {
            techOrder: 'FLV' || 'HLS' || 'FLASH', // æµåª’ä½“æ ¼å¼
            controls: true // æ’­æ”¾å™¨çš„æ§ä»¶ï¼ˆå…¨å±ç­‰ï¼‰
          },
          video: {
            autoplay: true, // è‡ªåŠ¨æ’­æ”¾
            controls: false, // åª’ä½“åŸç”Ÿæ§ä»¶
            preload: 'auto', // é¢„åŠ è½½
            poster: false, // æµ·æŠ¥
          }
        }, function (initData) {
          todo(...)
        });
        </code>
      </pre>
      <h5 id="3ã€ç›‘å¬äº‹ä»¶--è°ƒç”¨æ–¹æ³•">3ã€ç›‘å¬äº‹ä»¶ &amp; è°ƒç”¨æ–¹æ³•</h5>
      <pre>
        <code>
        /**
         * è¯¾ä»¶æ’­æ”¾å™¨(whiteboad)
         * @function whiteboardPlayer è¯¾ä»¶æ’­æ”¾å™¨
         * @param {sting} courseWareWrap é¡µé¢ä¸­å·²æ¸²æŸ“çš„å®¹å™¨çš„idï¼Œå°†åœ¨è¯¥å®¹å™¨å†…åˆ›å»ºè¯¾ä»¶æ’­æ”¾å™¨
         * @param {sting} playerId åˆ›å»ºçš„ç”»æ¿æ’­æ”¾å™¨ä¼šè¢«èµ‹äºˆè¯¥idï¼ˆè‡ªå®šä¹‰ï¼‰
         * @param {callbak} callbak æ’­æ”¾å™¨å›è°ƒå‡½æ•°
         */
        TF.whiteboardPlayer('courseWareWrap', 'playerId', function (player) {
          ('è¯¾ä»¶æ’­æ”¾å™¨ =&gt; åˆå§‹åŒ–æˆåŠŸ')
        })

        /**
         * æ‘„åƒå¤´æ’­æ”¾å™¨
         * @function camera æ‘„åƒå¤´æ’­æ”¾å™¨
         * @param {sting} cameraWrap é¡µé¢ä¸­å·²æ¸²æŸ“çš„å®¹å™¨çš„idï¼Œå°†åœ¨è¯¥å®¹å™¨å†…åˆ›å»ºæ‘„åƒå¤´æ’­æ”¾å™¨
         * @param {sting} playerId åˆ›å»ºçš„æ‘„åƒå¤´æ’­æ”¾å™¨ä¼šè¢«èµ‹äºˆè¯¥idï¼ˆè‡ªå®šä¹‰ï¼‰
         * @param {callbak} callbak æ’­æ”¾å™¨å›è°ƒå‡½æ•°
         */
        TF.camera('cameraWrap', 'playerId', function () {
          ('æ‘„åƒå¤´æ’­æ”¾å™¨ =&gt; åˆå§‹åŒ–æˆåŠŸ')
        })

        /**
         * è§†é¢‘æ’­æ”¾ & æ¡Œé¢åˆ†äº«çš„æ’­æ”¾å™¨
         * @function videoPlayer è§†é¢‘æ’­æ”¾å™¨
         * @param {sting} videoWrap é¡µé¢ä¸­å·²æ¸²æŸ“çš„å®¹å™¨çš„idï¼Œå°†åœ¨è¯¥å®¹å™¨å†…åˆ›å»ºè§†é¢‘æ’­æ”¾å™¨
         * @param {sting} playerId åˆ›å»ºçš„mediaæ’­æ”¾å™¨ä¼šè¢«èµ‹äºˆè¯¥idï¼ˆè‡ªå®šä¹‰ï¼‰
         * @param {callbak} callbak æ’­æ”¾å™¨å›è°ƒå‡½æ•°
         */
        TF.videoPlayer('videoWrap', 'playerId', function () {
          ('è§†é¢‘æ’­æ”¾å™¨ =&gt; åˆå§‹åŒ–æˆåŠŸ')
        })

        // ç›‘å¬äº‹ä»¶ `on`
        TF.on('connect', function () {
          // æˆåŠŸè¿æ¥
          ('TalkFuné€šä¿¡ =&gt; è¿æ¥æˆåŠŸ...')
        })
        // æ¥æ”¶èŠå¤©
        TF.on("chat:send", function(chat){
          // åœ¨domæŒ‡å®šä½ç½®æ’å…¥ä¸€æ¡èŠå¤©ä¿¡æ¯
          var li = document.createElement('li');
          li.innerHTML = chat.msg;
          // æŠŠ `li` å…ƒç´ æ’å…¥åˆ° `#chat_dom` å†…
          document.querySelector("#chat_dom").appendChild(li);
        });
        // æ¨¡å¼åˆ‡æ¢
        TF.on("live:mode:change", function(modeObj) {
          if (modeObj.currentMode == 2) {
            // è§†é¢‘æ¨¡å¼
            todo:
              show videoPlayer æ˜¾ç¤ºè§†é¢‘æ’­æ”¾å™¨
              hide whiteboadPlayer éšè—è¯¾ä»¶æ’­æ”¾å™¨
              hide camera éšè—æ‘„åƒå¤´æ’­æ”¾å™¨
          } else {
            // è¯¾ä»¶ã€æ‘„åƒå¤´æ¨¡å¼
            todo:
              hide videoPlayer éšè—è§†é¢‘æ’­æ”¾å™¨
              show whiteboadPlayer æ˜¾ç¤ºè¯¾ä»¶æ’­æ”¾å™¨
              show camera æ˜¾ç¤ºæ‘„åƒå¤´æ’­æ”¾å™¨
          }
        })
        </code>
      </pre>
    </section>
  </body>
</html>
