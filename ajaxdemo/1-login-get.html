<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<form>
			<input type="text" name="user" id="user"/>
			<input type="text" name="password" id="pwd"/>
			<input type="submit" value="登录" id="btn"/>
		</form>
		<script type="text/javascript">
			//login
			var btn = document.getElementById("btn");
			btn.onclick = function(){
				//获取数据
				var user = document.getElementById("user").value;
				var pwd = document.getElementById("pwd").value;
				
				//利用AJAX对象提交
				var ajax = new XMLHttpRequest();
				//打开页面
ajax.open("GET","login.php?user="+user+"&password="+pwd);
				//发送数据
				ajax.send(null);
				//返回结果，等待请求
				ajax.onreadystatechange = function(){
					//请求的状态
//0 － （未初始化）还没有调用send()方法 
//1 － （载入）已调用send()方法，正在发送请求 
//2 － （载入完成）send()方法执行完成，已经接收到全部响应内容 
//3 － （交互）正在解析响应内容 
//4 － （完成）响应内容解析完成，可以在客户端调用了
					//是否连接到服务器
					console.log(this.readyState);
					//HTTP状态码
					console.log(this.status);
					if(this.readyState == 4){
						//HTTP状态码
						if(this.status >=200 && this.status <300 || this.status ==304){
							alert("访问成功");
							//请求返回的文本数据
							alert(this.responseText);
						}else{
							alert("请求失败");
						}
					}
				}
				//取消默认提交事件
				return false;
			}
		</script>
	</body>
</html>
































