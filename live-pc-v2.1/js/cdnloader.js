// window.TALKFUN_CDN_HOSTS = ${structure static_servers || '[]'};
window.TALKFUN_CDN_HOSTS = "127.0.0.1";

/* TalkFun-CDN-Loader v2.6  www.talk-fun.com */
!function(e){var t=null;t=window.TALKFUN_CDN_HOSTS&&"object"==typeof window.TALKFUN_CDN_HOSTS&&window.TALKFUN_CDN_HOSTS.length>0?window.TALKFUN_CDN_HOSTS:["static-2.talk-fun.com","static-1.talk-fun.com","static-3.talk-fun.com","static.talk-fun.com"];var n=(e.TALKFUN_SCRIPT_DEPENS||[],e.document.body),o=t[0],r=/(static\-[\d]|static)\.talk-fun\.com/g,a=window.location.href.indexOf("cdnlog=list")>-1,c=e.document.location.protocol,i=c+"//"+t[0]+"/t.js",u=15e3,l=null;Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=this.length;if("function"!=typeof e)throw new TypeError;for(var n=arguments[1],o=0;t>o;o++)o in this&&e.call(n,this[o],o,this)});var s=function(e,t,n){var o=e.length;if("function"!=typeof n)throw new TypeError;for(var r=0;o>r;r++)e[r]===t&&n.call(e,e[r],r)},f=function(e){return Array.prototype.slice.call(e,0)};e.TF_getStaticHost=function(e){var t=r,n=e.match(t);return n?e.replace(t,o):e};var d=function(){if(!a)return!1;e.console&&console.log.apply(console,arguments)},m=function(e,t){d("Post Log ===> "+t),v({url:c+"//log.talk-fun.com/stats.html",method:"GET",data:{__type:"static",state:e||"",errorfile:t||""}})},p=function(){var e={xhr:null,name:null},t=navigator.userAgent.match(/MSIE\s(\d.*?);/i)||null;if(t&&t.length>0&&(t=parseInt(t[1],10)),window.XDomainRequest&&10>t)e.xhr=new XDomainRequest,e.name="XDomainRequest";else if(window.XMLHttpRequest)e.xhr=new XMLHttpRequest,e.name="XMLHttpRequest";else if(window.ActiveXObject)try{e.xhr=new ActiveXObject("MSXML2.XMLHTTP.3.0"),e.name="ActiveXObject"}catch(n){return null}return e},h=function(e){if(!e)return e={},!1;var t=["url","method","timeout","dataType","data","success","error"];return t.forEach(function(t){var n=e[t];switch(t){case"url":n="string"==typeof n?n:"",e[t]=n;break;case"method":n="string"==typeof n?n:"GET",e[t]=n;break;case"dataType":n="string"==typeof n?n:null,e[t]=n;break;case"timeout":n=parseInt(n,10)||0,e[t]=n;break;case"data":n="object"==typeof n?n:null;var o="";if(n){var r=[],a="";for(var c in n)a=c+"="+n[c],r.push(a);o=encodeURI(r.join("&"))}if(e.url&&"get"===e.method.toLowerCase()){var i="?";e.url.indexOf("?")>-1&&(i="&"),e.url=e.url+i+o}e[t]=o;break;case"success":n="function"==typeof n?n:function(){},e[t]=n;break;case"error":n="function"==typeof n?n:function(){},e[t]=n}}),e},v=function(e){e=h(e);var t=p(),n=t.xhr,o=t.name;e.dataType&&(n.responeType=e.dataType),n.open(e.method,e.url,!0),n.timeout=e.timeout,"post"===e.method.toLowerCase()?(n.setRequestHeader&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e.data)):n.send(null),"XMLHttpRequest"===o?n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<400?e.success.call(null,n):e.error.call(null,n))}:(n.onload=function(){e.success.call(null,n)},n.onerror=function(){e.error.call(null,n)})},y=[],l={},w=0;a&&(window.loadFileTimer=l,window.tryTimes=w,window.fileQueues=y);var T=function(e){return e.match(r)[0]},g=function(e,t){d("Do timeout job ==> "+e),l[e]||(l[e]=setTimeout(function(){d("load file timeout..."),t()},u))},L=function(e){l[e]&&(d("clear Timeout job ==> ",e),clearTimeout(l[e]),l[e]=null)},S=function(e,n,o,a,c,i,u){d("Error-Source ==> "+e+" => ("+c+")"),L(e),o.parentNode&&(o.removeEventListener("load",i),o.parentNode.removeChild(o));var l=T(e);if(l&&s(t,l,function(e,n){d("Delete CDN-HOST item ==> "+e),t.splice(n,1)}),0===t.length)return E(a,c),!1;var f="";f=e.replace(r,t[0]),setTimeout(function(){n.callee(f,a,u),d("try next one ==> "+f)},100),m(c,e)},E=function(e,t){if("function"==typeof e){var n={type:t,msg:"资源加载"+("error"===t?"错误":"超时")};e(null,n)}d("=====> ##### Resources Load "+t+"! ##### <======")},b=function(e){return d("Attributes ==> ",e),e?e:!1},A=function(e,t,o){var r=arguments,a=document.createElement("script"),c=function(){t(e)},i=b(o);if(i){var u=i;for(var l in u)a.setAttribute(l,u[l])}a.src=e,a.addEventListener("load",c,!1),a.addEventListener("error",function(){L(e),S(e,r,a,t,"error",c,o)},!1),n.appendChild(a),g(e,function(){S(e,r,a,t,"timeout",c,o)})},k=function(e,t){var n=arguments,o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e;var r=function(){t(e)};o.addEventListener("load",r,!1),o.addEventListener("error",function(){L(e),S(e,n,o,t,"error",r)},!1),document.head.appendChild(o),g(e,function(){S(e,n,o,t,"timeout",r)})},C=function(e,t){t(e)},_=function(){d("loader on success...");var e=document.querySelectorAll("img");e=f(e),e.length>0&&e.forEach(function(e){if(r.test(e.src)){var t=e.src;t=t.replace(r,o),e.src=t,d("[#IMG]"+e.src)}})},H=function(e,t){if(d("\n===========> ProcessFile... <============="),d(e,"\n\n"),"object"==typeof e&&"string"==typeof e.src&&"object"==typeof e.attrs)A(e.src,t,e.attrs);else if("string"==typeof e){var n=e.match(/\.js|\.css/i)||null;n||C(e,t),n&&n[0].indexOf(".js")>-1?A(e,t):n&&n[0].indexOf(".css")>-1&&k(e,t)}},N=function(t,n){var a=t;!function(){var t=arguments;H(a[0],function(c,i){return i?(n(i,null),!1):(L(c),a.splice(0,1),w=0,d("[###SUCCESS] ==> "+c),d("File-Queue ==> ",a),r.test(c)&&(e.TALKFUN_STATIC_HOST=T(c),o=T(c)),0===a.length?(d("ALL Resource Loaded."),"function"==typeof n&&n(null,"success"),_(),!1):void setTimeout(function(){r.test(a[0])&&o&&(a[0]=a[0].replace(r,o)),t.callee(a[0])},10))})}(a[0])},j=null,O=function(e,t){j||(clearTimeout(j),j=null),e&&e.length>0&&(y=y.concat(e)),j||(j=setTimeout(function(){N(y,t)},100))};e.talkfunLoader={},e.talkfunLoader.parallel=function(){},e.talkfunLoader.series=function(e,t){var n=e||[];n.unshift(i),n&&n.length>0&&O(n,t)}}(window);
